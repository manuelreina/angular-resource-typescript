<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Angular resource + TypeScript + Generics</title>
    <link href="node_modules/angular-material/angular-material.css" rel="stylesheet" />
    <link href="node_modules/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
</head>
<body ng-app="resourceApp">
    <h1>Angular resource + TypeScript + Generics</h1>

    <div layout="column" layout-padding 
         ng-controller="personController as vm" ng-init="vm.onInit()">
        <div>
            <div layout="row" layout-align="start center">
                <div style="width:100px;">
                    <md-input-container>
                        <label>Name</label>
                        <input ng-model="vm.newPerson.name">
                    </md-input-container>
                </div>
                <div>
                    <md-button aria-label="Add" class="md-fab md-raised md-mini md-accent"
                               ng-click="vm.add()">
                        <i class="fa fa-plus"></i>
                    </md-button>
                </div>
            </div>
        </div>
        <div ng-repeat="person in vm.persons" >
            <div layout="row" layout-align="start center">
                <div style="width:100px;">
                    <span ng-bind="person.name" ng-if="!person.edit"></span>
                    <md-input-container ng-if="person.edit">
                        <label>Name</label>
                        <input ng-model="person.name">
                    </md-input-container>
                </div>
                <div  ng-if="!person.edit">
                    <md-button aria-label="Edit" class="md-fab md-raised md-mini md-primary"
                               ng-click="person.edit = true">
                        <i class="fa fa-edit"></i>
                    </md-button>
                    <md-button aria-label="Remove" class="md-fab md-raised md-mini md-warn"
                               ng-click="vm.delete(person, $index)">
                        <i class="fa fa-remove"></i>
                    </md-button>
                </div>
                <div  ng-if="person.edit">
                    <md-button aria-label="Edit" class="md-fab md-raised md-mini"
                               ng-click="vm.update(person)">
                        <i class="fa fa-save"></i>
                    </md-button>
                    <md-button aria-label="Remove" class="md-fab md-raised md-mini"
                               ng-click="person.edit = false">
                        <i class="fa fa-undo"></i>
                    </md-button>
                </div>
            </div>
        </div>
    </div>

    <script src="node_modules/angular/angular.min.js"></script>
    <script src="node_modules/angular-resource/angular-resource.js"></script>
    <script src="node_modules/angular-mocks/angular-mocks.js"></script>

    <script src="node_modules/angular-material/angular-material.min.js"></script>
    <script src="node_modules/angular-animate/angular-animate.min.js"></script>
    <script src="node_modules/angular-aria/angular-aria.min.js"></script>

    <script src="app/app.js"></script>
    <script src="app/services/dataService.js"></script>
    <script src="app/services/mockService.js"></script>
    <script src="app/services/resourceService.js"></script>
    <script src="app/person/personController.js"></script>
</body>
</html>
